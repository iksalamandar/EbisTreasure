{"ast":null,"code":"/**\r\n * CSV Data Loader\r\n * \r\n * This file loads product data from the actual CSV file.\r\n * The CSV data is fetched and parsed using PapaParse library.\r\n * \r\n * Benefits of this approach:\r\n * - Easy to edit product data by modifying the CSV file\r\n * - Can be updated by non-technical users\r\n * - Better for bulk data management\r\n * - Real-time updates when CSV file changes\r\n */\n\nimport Papa from 'papaparse';\n\n// Cache for parsed products to avoid re-parsing\nlet productsCache = null;\n\n/**\r\n * Loads and parses the CSV data\r\n * @returns {Array} Array of product objects\r\n */\nconst loadProductsFromCSV = () => {\n  if (productsCache) {\n    return productsCache;\n  }\n  try {\n    // Parse CSV data\n    const parseResult = Papa.parse(csvData, {\n      header: true,\n      skipEmptyLines: true,\n      transformHeader: header => header.trim(),\n      transform: (value, field) => {\n        // Convert price to number\n        if (field === 'price') {\n          return parseFloat(value);\n        }\n        return value.trim();\n      }\n    });\n    if (parseResult.errors.length > 0) {\n      console.error('CSV parsing errors:', parseResult.errors);\n    }\n    productsCache = parseResult.data;\n    return productsCache;\n  } catch (error) {\n    console.error('Error parsing CSV data:', error);\n    // Fallback to empty array if CSV parsing fails\n    return [];\n  }\n};\n\n/**\r\n * Helper function to get products by category\r\n * @param {string} category - The category name ('toys', 'educational', 'sharpening')\r\n * @returns {Array} Array of products for the specified category\r\n */\nexport const getProductsByCategory = category => {\n  const products = loadProductsFromCSV();\n  return products.filter(product => product.category === category);\n};\n\n/**\r\n * Helper function to get all products\r\n * @returns {Array} Array of all products across all categories\r\n */\nexport const getAllProducts = () => {\n  return loadProductsFromCSV();\n};\n\n/**\r\n * Helper function to get a specific product by ID\r\n * @param {string} id - The product ID\r\n * @returns {Object|null} The product object or null if not found\r\n */\nexport const getProductById = id => {\n  const products = loadProductsFromCSV();\n  return products.find(product => product.id === id) || null;\n};\n\n/**\r\n * Helper function to get products by price range\r\n * @param {number} minPrice - Minimum price\r\n * @param {number} maxPrice - Maximum price\r\n * @returns {Array} Array of products within the price range\r\n */\nexport const getProductsByPriceRange = (minPrice, maxPrice) => {\n  const products = loadProductsFromCSV();\n  return products.filter(product => product.price >= minPrice && product.price <= maxPrice);\n};\n\n/**\r\n * Helper function to search products by name or description\r\n * @param {string} searchTerm - The search term\r\n * @returns {Array} Array of matching products\r\n */\nexport const searchProducts = searchTerm => {\n  const products = loadProductsFromCSV();\n  const term = searchTerm.toLowerCase();\n  return products.filter(product => product.name.toLowerCase().includes(term) || product.description.toLowerCase().includes(term));\n};\n\n/**\r\n * Helper function to clear the cache (useful for development/testing)\r\n */\nexport const clearCache = () => {\n  productsCache = null;\n};","map":{"version":3,"names":["Papa","productsCache","loadProductsFromCSV","parseResult","parse","csvData","header","skipEmptyLines","transformHeader","trim","transform","value","field","parseFloat","errors","length","console","error","data","getProductsByCategory","category","products","filter","product","getAllProducts","getProductById","id","find","getProductsByPriceRange","minPrice","maxPrice","price","searchProducts","searchTerm","term","toLowerCase","name","includes","description","clearCache"],"sources":["D:/wEB 1/src/data/csvDataLoader.js"],"sourcesContent":["/**\r\n * CSV Data Loader\r\n * \r\n * This file loads product data from the actual CSV file.\r\n * The CSV data is fetched and parsed using PapaParse library.\r\n * \r\n * Benefits of this approach:\r\n * - Easy to edit product data by modifying the CSV file\r\n * - Can be updated by non-technical users\r\n * - Better for bulk data management\r\n * - Real-time updates when CSV file changes\r\n */\r\n\r\nimport Papa from 'papaparse';\r\n\r\n// Cache for parsed products to avoid re-parsing\r\nlet productsCache = null;\r\n\r\n/**\r\n * Loads and parses the CSV data\r\n * @returns {Array} Array of product objects\r\n */\r\nconst loadProductsFromCSV = () => {\r\n  if (productsCache) {\r\n    return productsCache;\r\n  }\r\n\r\n  try {\r\n    // Parse CSV data\r\n    const parseResult = Papa.parse(csvData, {\r\n      header: true,\r\n      skipEmptyLines: true,\r\n      transformHeader: (header) => header.trim(),\r\n      transform: (value, field) => {\r\n        // Convert price to number\r\n        if (field === 'price') {\r\n          return parseFloat(value);\r\n        }\r\n        return value.trim();\r\n      }\r\n    });\r\n\r\n    if (parseResult.errors.length > 0) {\r\n      console.error('CSV parsing errors:', parseResult.errors);\r\n    }\r\n\r\n    productsCache = parseResult.data;\r\n    return productsCache;\r\n  } catch (error) {\r\n    console.error('Error parsing CSV data:', error);\r\n    // Fallback to empty array if CSV parsing fails\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * Helper function to get products by category\r\n * @param {string} category - The category name ('toys', 'educational', 'sharpening')\r\n * @returns {Array} Array of products for the specified category\r\n */\r\nexport const getProductsByCategory = (category) => {\r\n  const products = loadProductsFromCSV();\r\n  return products.filter(product => product.category === category);\r\n};\r\n\r\n/**\r\n * Helper function to get all products\r\n * @returns {Array} Array of all products across all categories\r\n */\r\nexport const getAllProducts = () => {\r\n  return loadProductsFromCSV();\r\n};\r\n\r\n/**\r\n * Helper function to get a specific product by ID\r\n * @param {string} id - The product ID\r\n * @returns {Object|null} The product object or null if not found\r\n */\r\nexport const getProductById = (id) => {\r\n  const products = loadProductsFromCSV();\r\n  return products.find(product => product.id === id) || null;\r\n};\r\n\r\n/**\r\n * Helper function to get products by price range\r\n * @param {number} minPrice - Minimum price\r\n * @param {number} maxPrice - Maximum price\r\n * @returns {Array} Array of products within the price range\r\n */\r\nexport const getProductsByPriceRange = (minPrice, maxPrice) => {\r\n  const products = loadProductsFromCSV();\r\n  return products.filter(product => \r\n    product.price >= minPrice && product.price <= maxPrice\r\n  );\r\n};\r\n\r\n/**\r\n * Helper function to search products by name or description\r\n * @param {string} searchTerm - The search term\r\n * @returns {Array} Array of matching products\r\n */\r\nexport const searchProducts = (searchTerm) => {\r\n  const products = loadProductsFromCSV();\r\n  const term = searchTerm.toLowerCase();\r\n  return products.filter(product => \r\n    product.name.toLowerCase().includes(term) ||\r\n    product.description.toLowerCase().includes(term)\r\n  );\r\n};\r\n\r\n/**\r\n * Helper function to clear the cache (useful for development/testing)\r\n */\r\nexport const clearCache = () => {\r\n  productsCache = null;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}